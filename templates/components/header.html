{% load static %}
<header class="sticky top-0 z-50 bg-white shadow-lg ">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-16 lg:h-20">
      <!-- Logo -->
      <div class="flex-shrink-0">
        <a href="{% url 'pages:home' %}" class="flex items-center">
          
            <!-- Logo responsivo -->
            <img
              src="{% static 'base/images/logo-220x80-preto.svg' %}"
              alt="Logo LOPES PEINTURE"
              class="h-8 w-auto sm:h-10 lg:h-12 logo-image"
            />
          
        </a>
      </div>

      <!-- Navigation Desktop -->
      <nav class="hidden lg:flex items-center space-x-8 nav-text">
        <a href="{% url 'pages:home' %}" class="nav-link"> Accueil </a>
        <a href="{% url 'pages:nuancier' %}" class="nav-link">Nuancier</a>
        <a href="{% url 'pages:services' %}" class="nav-link"> Services </a>
        <a href="{% url 'pages:about' %}" class="nav-link"> À propos </a>
        <a href="{% url 'pages:contact' %}" class="nav-link"> Contact </a>
        <a href="{% url 'pages:blog_list' %}" class="nav-link"> Conseils et Inspiration </a>
      </nav> 

      <!-- Actions Desktop -->
      <div class="hidden lg:flex items-center space-x-4">
        {% if not user.is_authenticated %}
        <!-- Phone -->
        <a
          href="tel:+33769273776"
          class="flex items-center text-blue-600 hover:text-blue-700 transition-colors"
        >
          <i class="fas fa-phone mr-2"></i>
          <span class="font-medium">07 69 27 37 76</span>
        </a>

        <!-- Devis Button -->
        <a href="{% url 'pages:contact' %}" class="btn-primary btn-text">
          <i class="fas fa-calculator mr-2"></i>
          Devis Gratuit
        </a> 
        {% endif %}

        <!-- Member Area -->
        <div class="relative group">
          {% if user.is_authenticated %}
          <button
            class="flex items-center space-x-2 text-gray-700 hover:text-blue-600 transition-colors"
          >
            <div
              class="w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white text-sm font-medium"
            >
              {{ user.first_name|first|default:user.username|first|upper }}
            </div>
            <span class="font-medium">{{ user.first_name|default:user.username }}</span>
            <i class="fas fa-chevron-down text-xs"></i>
          </button>

          <!-- Dropdown Menu - Authenticated -->
          <div
            class="absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200"
          >
            <div class="py-2">
              <div class="px-4 py-2 border-b">
                <p class="text-sm font-medium text-gray-900">
                  {{ user.first_name }} {{ user.last_name }}
                </p>
                <p class="text-xs text-gray-500">{{ user.email }}</p>
              </div>
              <a
                href="{% url 'config:painel' %}"
                class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50"
              >
                <i class="fas fa-user mr-2"></i>
                Tableau de bord
              </a>
              {% comment %} <!-- <a
                href="{% url 'accounts:mes_devis' %}"
                class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50"
              >
                <i class="fas fa-file-invoice mr-2"></i>
                Mes devis
              </a> --> {% endcomment %}
              <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50">
                <i class="fas fa-history mr-2"></i>
                Historique
              </a>
              <hr class="my-1" />
              <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50">
                <i class="fas fa-cog mr-2"></i>
                Paramètres
              </a>
              <a
                href="{% url 'accounts:logout' %}"
                class="block px-4 py-2 text-sm text-red-600 hover:bg-red-50"
              >
                <i class="fas fa-sign-out-alt mr-2"></i>
                Se déconnecter
              </a>
            </div>
          </div>
          {% else %}
          <button
            class="flex items-center space-x-2 text-gray-700 hover:text-blue-600 transition-colors"
          >
            <i class="fas fa-user-circle text-xl"></i>
            <i class="fas fa-chevron-down text-xs"></i>
          </button>

          <!-- Dropdown Menu - Not Authenticated -->
          <div
            class="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200"
          >
            <div class="py-2">
              <a
                href="{% url 'accounts:login' %}"
                class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50"
              >
                <i class="fas fa-sign-in-alt mr-2"></i>
                Se connecter
              </a>
              <a
                href="{% url 'accounts:register' %}"
                class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50"
              >
                <i class="fas fa-user-plus mr-2"></i>
                S'inscrire
              </a>
              {% comment %} <!-- <hr class="my-1" />
              <a href="{% url 'accounts:mes_devis' %}" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50">
                <i class="fas fa-file-invoice mr-2"></i>
                Mes devis
              </a> --> {% endcomment %}
            </div>
          </div>
          {% endif %}
        </div>
      </div>

      <!-- Mobile Menu Button -->
      <button
        id="mobileMenuBtn"
        class="lg:hidden flex items-center justify-center w-10 h-10 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors"
        aria-label="Ouvrir le menu"
      >
        <i class="fas fa-bars text-xl"></i>
      </button>
    </div>
  </div>

  <!-- Mobile Sidebar Overlay -->
  <div id="sidebarOverlay" class="sidebar-overlay"></div>

  <!-- Mobile Sidebar -->
  <div id="mobileSidebar" class="mobile-sidebar">
    <!-- Sidebar Header -->
    <div class="flex items-center justify-between p-6 border-b">
      <div class="flex items-center space-x-3">
        <div class="logo-container">
          <img
            src="{% static 'base/images/logo-80-45-black.svg' %}"
            alt="Logo LOPES PEINTURE"
            class="logo-image"
          />
        </div>
      </div>
      <button
        id="closeSidebarBtn"
        class="w-8 h-8 rounded-lg text-gray-500 hover:bg-gray-100 flex items-center justify-center transition-colors"
        aria-label="Fermer le menu"
      >
        <i class="fas fa-times"></i>
      </button>
    </div>

    <!-- User Info Section (Mobile) -->
    {% if user.is_authenticated %}
    <div class="px-6 py-4 bg-blue-50 border-b">
      <div class="flex items-center space-x-3">
        <div
          class="w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center text-white text-lg font-medium"
        >
          {{ user.first_name|first|default:user.username|first|upper }}
        </div>
        <div class="flex-1 min-w-0">
          <p class="text-sm font-medium text-gray-900 truncate">
            {{ user.first_name }} {{ user.last_name }}
          </p>
          <p class="text-xs text-gray-500 truncate">{{ user.email }}</p>
          <div class="flex items-center mt-1">
            <span
              class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800"
            >
              <i class="fas fa-circle text-green-400 mr-1" style="font-size: 6px"></i>
              Connecté
            </span>
          </div>
        </div>
      </div>
    </div>
    {% endif %}

    <!-- Sidebar Content -->
    <div class="flex flex-col h-full">
      <!-- Navigation Links -->
      <nav class="flex-1 px-6 py-6 space-y-2">
        <a href="{% url 'pages:home' %}" class="mobile-nav-link">
          <i class="fas fa-home"></i>
          <span>Accueil</span>
          <i class="fas fa-chevron-right ml-auto text-gray-400"></i>
        </a>
        <a href="{% url 'pages:nuancier' %}" class="mobile-nav-link">
          <i class="fas fa-palette"></i>
          <span>Nuancier</span>
          <i class="fas fa-chevron-right ml-auto text-gray-400"></i>
        </a>
        <a href="{% url 'pages:services' %}" class="mobile-nav-link">
          <i class="fas fa-paint-roller"></i>
          <span>Services</span>
          <i class="fas fa-chevron-right ml-auto text-gray-400"></i>
        </a>
        <a href="{% url 'pages:about' %}" class="mobile-nav-link">
          <i class="fas fa-info-circle"></i>
          <span>À propos</span>
          <i class="fas fa-chevron-right ml-auto text-gray-400"></i>
        </a>
        <a href="{% url 'pages:contact' %}" class="mobile-nav-link">
          <i class="fas fa-envelope"></i>
          <span>Contact</span>
          <i class="fas fa-chevron-right ml-auto text-gray-400"></i>
        </a>
        <a href="{% url 'pages:blog_list' %}" class="mobile-nav-link">
          <i class="fas fa-images"></i>
          <span>Conseils et Inspiration</span>
          <i class="fas fa-chevron-right ml-auto text-gray-400"></i>
        </a>
      </nav> 

      <!-- Contact Info -->
      <div class="px-6 py-4 bg-gray-50 border-t">
        <div class="space-y-3">
          <a href="tel:+33769273776" class="flex items-center text-blue-600 hover:text-blue-700">
            <i class="fas fa-phone mr-3"></i>
            <span class="font-medium">07 69 27 37 76</span>
          </a>
          <a
            href="mailto:contact@lopespeinture.fr"
            class="flex items-center text-gray-600 hover:text-gray-700"
          >
            <i class="fas fa-envelope mr-3"></i>
            <span>contact@lopespeinture.fr</span>
          </a>
        </div>
      </div>

      <!-- Member Area Mobile -->
      <div class="px-6 py-4 border-t">
        <a href="{% url 'config:painel' %}" class="mobile-auth-link">
          <i class="fas fa-user"></i>
          <span>Tableau de bord</span>
        </a>
        {% if user.is_authenticated %}
        <div class="space-y-2">
          {% comment %} <!-- <a href="{% url 'accounts:mes_devis' %}" class="mobile-auth-link">
            <i class="fas fa-file-invoice"></i>
            <span>Mes devis</span>
          </a> --> {% endcomment %}
          <a href="#" class="mobile-auth-link">
            <i class="fas fa-history"></i>
            <span>Historique</span>
          </a>
          <a href="#" class="mobile-auth-link">
            <i class="fas fa-cog"></i>
            <span>Paramètres</span>
          </a>
          <a href="{% url 'accounts:logout' %}" class="mobile-auth-link text-red-600">
            <i class="fas fa-sign-out-alt"></i>
            <span>Se déconnecter</span>
          </a>
        </div>
        {% else %}
        <div class="space-y-2">
          <a href="#" class="mobile-auth-link">
            <i class="fas fa-sign-in-alt"></i>
            <span>Se connecter</span>
          </a>
          <a href="#" class="mobile-auth-link">
            <i class="fas fa-user-plus"></i>
            <span>S'inscrire</span>
          </a>
          <a href="#" class="mobile-auth-link">
            <i class="fas fa-file-invoice"></i>
            <span>Mes devis</span>
          </a>
        </div>
        {% endif %}
      </div>

      <!-- CTA Button -->
      <div class="px-6 py-6 border-t">
        <a href="{% url 'pages:contact' %}" class="btn-primary w-full justify-center">
          <i class="fas fa-calculator mr-2"></i>
          Demander un Devis
        </a>
      </div>
    </div>
  </div>
</header>
{% block extra_css %}
<link rel="stylesheet" href="{% static 'base/css/header.css' %}">
<link rel="stylesheet" href="{% static 'base/css/typography.css' %}">


{% endblock %}

{% block extra_js %}
<script src="{% static 'base/js/header.js' %}"></script>


{% endblock %}



