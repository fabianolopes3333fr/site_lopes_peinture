{% load static %}
{% load tailwind_tags %}

<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <!-- Meta tags para SEO -->
    <meta
      name="description"
      content="{% block meta_description %}LOPES PEINTURE - Entreprise spécialisée en peinture intérieure et extérieure, décoration et rénovation à Paris et Île-de-France. Devis gratuit.{% endblock %}"
    />
    <meta
      name="keywords"
      content="peinture, décoration, rénovation, Paris, Île-de-France, devis gratuit, peintre professionnel"
    />
    <meta name="author" content="LOPES PEINTURE" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="{{ request.build_absolute_uri }}" />
    <meta
      property="og:title"
      content="{% block og_title %}LOPES PEINTURE - Spécialiste Peinture et Décoration{% endblock %}"
    />
    <meta
      property="og:description"
      content="{% block og_description %}Entreprise spécialisée en peinture intérieure et extérieure, décoration et rénovation à Paris et Île-de-France.{% endblock %}"
    />
    <meta property="og:image" content="{% static 'images/logo-social.jpg' %}" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="{{ request.build_absolute_uri }}" />
    <meta
      property="twitter:title"
      content="{% block twitter_title %}LOPES PEINTURE - Spécialiste Peinture et Décoration{% endblock %}"
    />
    <meta
      property="twitter:description"
      content="{% block twitter_description %}Entreprise spécialisée en peinture intérieure et extérieure, décoration et rénovation à Paris et Île-de-France.{% endblock %}"
    />
    <meta property="twitter:image" content="{% static 'images/logo-social.jpg' %}" />

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="{% static 'images/favicon.ico' %}" />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="{% static 'images/apple-touch-icon.png' %}"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="{% static 'images/favicon-32x32.png' %}"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="{% static 'images/favicon-16x16.png' %}"
    />
  <title>
    {% block title %}LOPES PEINTURE - Spécialiste Des Services De Peinture {% endblock %}
  </title>
  {% tailwind_css %}
  <link rel="stylesheet" href="{% static 'base/css/base.css' %}">
  {% block extra_css %}{% endblock %}
  {% if debug %}
    <script defer src="{% url 'django_browser_reload:javascript' %}"></script>
  {% endif %}
</head>
<body>
  <!-- Header Component -->
    {% include 'components/header.html' %}
  <main class="container mx-auto px-4">
    {% block content %}{% endblock  %}

  </main>

   <!-- WhatsApp Float Button -->
    <div class="fixed bottom-6 right-6 z-50">
      <a
        href="https://wa.me/33634623320?text=Bonjour,%20je%20souhaite%20obtenir%20un%20devis%20pour%20des%20travaux%20de%20peinture."
        target="_blank"
        class="bg-green-500 hover:bg-green-600 text-white w-14 h-14 rounded-full flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 animate-pulse"
      >
        <i class="fab fa-whatsapp text-2xl"></i>
      </a>
    </div>

    <!-- Back to Top Button -->
    <button
      id="back-to-top"
      class="fixed bottom-6 left-6 bg-primary-600 hover:bg-primary-700 text-white w-12 h-12 rounded-full flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 opacity-0 invisible z-50"
    >
      <i class="fas fa-chevron-up"></i>
    </button>

  <!-- Scripts -->
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        // Mobile menu toggle
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');

        if (mobileMenuButton && mobileMenu) {
          mobileMenuButton.addEventListener('click', function () {
            mobileMenu.classList.toggle('hidden');

            // Toggle icon
            const icon = this.querySelector('i');
            if (mobileMenu.classList.contains('hidden')) {
              icon.classList.remove('fa-times');
              icon.classList.add('fa-bars');
            } else {
              icon.classList.remove('fa-bars');
              icon.classList.add('fa-times');
            }
          });
        }

        // Back to top button
        const backToTopButton = document.getElementById('back-to-top');

        if (backToTopButton) {
          window.addEventListener('scroll', function () {
            if (window.pageYOffset > 300) {
              backToTopButton.classList.remove('opacity-0', 'invisible');
              backToTopButton.classList.add('opacity-100', 'visible');
            } else {
              backToTopButton.classList.add('opacity-0', 'invisible');
              backToTopButton.classList.remove('opacity-100', 'visible');
            }
          });

          backToTopButton.addEventListener('click', function () {
            window.scrollTo({
              top: 0,
              behavior: 'smooth',
            });
          });
        }

        // Smooth scroll for anchor links
        document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
          anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
              target.scrollIntoView({
                behavior: 'smooth',
                block: 'start',
              });
            }
          });
        });

        // Add animation classes on scroll
        const observerOptions = {
          threshold: 0.1,
          rootMargin: '0px 0px -50px 0px',
        };

        const observer = new IntersectionObserver((entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.classList.add('animate-fade-in-up');
            }
          });
        }, observerOptions);

        // Observe elements with animation classes
        document.querySelectorAll('.card, .service-card, .feature-item').forEach((el) => {
          observer.observe(el);
        });
      });
    </script>
  {% block extra_js %}{% endblock %}
  <script src="{% static 'base/js/base.js' %}"></script>
</body>
</html>
